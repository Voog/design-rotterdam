var MMCQ,PriorityQueue;!function(t){t.fn.autogrow=function(e){return this.filter("textarea").each(function(){var o=this,i=t(o),n=i.height(),a=i.hasClass("autogrow-short")?0:parseInt(i.css("lineHeight"))||0,r=t("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:i.width(),fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),lineHeight:i.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body),e=function(e){var t=o.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(e){return function(e,t){for(var o=0,i="";o<t;o++)i+=e;return i}("&nbsp;",e.length-1)+" "});e&&e.data&&"keydown"===e.data.event&&13===e.keyCode&&(t+="<br />"),r.css("width",i.width()),r.html(t+(0===a?"...":"")),i.height(Math.max(r.height()+a,n))};i.change(e).keyup(e).keydown({event:"keydown"},e),t(window).resize(e),e()})}}(jQuery),PriorityQueue=function(){function e(e){this.comparator=e,this.contents=[],this.sorted=!1}return e.prototype.sort=function(){return this.contents.sort(this.comparator),this.sotred=!0},e.prototype.push=function(e){return this.contents.push(e),this.sorted=!1},e.prototype.peek=function(e){return null==e&&(e=this.contents.length-1),this.sorted||this.sort(),this.contents[e]},e.prototype.pop=function(){return this.sorted||this.sort(),this.contents.pop()},e.prototype.size=function(){return this.contents.length},e.prototype.map=function(e){return this.contents.map(e)},e}(),MMCQ=function(){var m,r,l,T,h,g;function b(){this.maxIterations=1e3,this.fractByPopulations=.75}return b.rshift=8-(b.sigbits=5),T=function(e,t,o){return(e<<2*b.sigbits)+(t<<b.sigbits)+o},m=function(){function e(e,t,o,i,n,a,r){this.r1=e,this.r2=t,this.g1=o,this.g2=i,this.b1=n,this.b2=a,this.histo=r}return e.prototype.volume=function(e){return this._volume&&!e||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},e.prototype.count=function(e){var t,o,i,n,a,r,s,d,c,l,h;if(!this._count_set||e){for(n=0,a=r=this.r1,c=this.r2;r<=c;a=r+=1)for(o=s=this.g1,l=this.g2;s<=l;o=s+=1)for(t=d=this.b1,h=this.b2;d<=h;t=d+=1)i=T(a,o,t),n+=this.histo[i]||0;this._count_set=!0,this._count=n}return this._count},e.prototype.copy=function(){return new e(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},e.prototype.average=function(e){var t,o,i,n,a,r,s,d,c,l,h,g,u,m,f,p;if(!this._average||e){for(s=1<<8-b.sigbits,o=n=c=l=0,d=h=this.r1,m=this.r2;h<=m;d=h+=1)for(i=g=this.g1,f=this.g2;g<=f;i=g+=1)for(t=u=this.b1,p=this.b2;u<=p;t=u+=1)r=T(d,i,t),l+=a=this.histo[r]||0,c+=a*(d+.5)*s,n+=a*(i+.5)*s,o+=a*(t+.5)*s;this._average=l?[~~(c/l),~~(n/l),~~(o/l)]:[~~(s*(this.r1+this.r2+1)/2),~~(s*(this.g1+this.g2+1)/2),~~(s*(this.b1+this.b2+1)/2)]}return this._average},e.prototype.contains=function(e){var t,o,i;return i=e[0]>>b.rshift,o=e[1]>>b.rshift,t=e[2]>>b.rshift,this.r1<=i&&i<=this.r2&&this.g1<=o&&o<=this.g2&&this.b1<=t&&t<=this.b2},e}(),r=function(){function e(){this.cboxes=new PriorityQueue(function(e,t){var o,i;return o=e.count()*e.volume(),(i=t.count()*t.volume())<o?1:o<i?-1:0})}return e.prototype.push=function(e){return this.cboxes.push({cbox:e,color:e.average()})},e.prototype.palette=function(){return this.cboxes.map(function(e){return e.color})},e.prototype.size=function(){return this.cboxes.size()},e.prototype.map=function(e){var t,o,i;for(t=o=0,i=this.cboxes.size();o<i;t=o+=1)return this.cboxes.peek(t).cbox.contains(e)?this.cboxes.peek(t).color:this.nearest(e)},e.prototype.cboxes=function(){return this.cboxes},e.prototype.nearest=function(e){var t,o,i,n,a,r,s;for(a=function(e){return e*e},i=1e9,o=r=0,s=this.cboxes.size();r<s;o=r+=1)(t=Math.sqrt(a(e[0]-this.cboxes.peek(o).color[0])+a(e[1]-this.cboxes.peek(o).color[1])+a(e[2]-this.cboxes.peek(o).color[2])))<i&&(i=t,n=this.cboxes.peek(o).color);return n},e}(),h=function(e){var t,o,i,n,a,r,s,d;for(i=new Array(1<<3*b.sigbits),s=0,d=e.length;s<d;s++)r=(a=e[s])[0]>>b.rshift,o=a[1]>>b.rshift,t=a[2]>>b.rshift,i[n=T(r,o,t)]=(i[n]||0)+1;return i},l=function(e,t){var o,i,n,a,r,s,d,c,l,h,g,u;for(n=s=h=1e6,g=i=r=l=0,u=e.length;g<u;g++)(c=(d=e[g])[0]>>b.rshift)<h?h=c:l<c&&(l=c),(a=d[1]>>b.rshift)<s?s=a:r<a&&(r=a),(o=d[2]>>b.rshift)<n?n=o:i<o&&(i=o);return new m(h,l,s,r,n,i,t)},g=function(e,g){var t,o,i,n,a,u,r,m,s,d,c,f,l,h,p,b,v,C,w,y,x,k,_,j,A,B,M,P,z,I;if(g.count()){if(1===g.count())return[g.copy()];if(d=g.r2-g.r1+1,a=g.g2-g.g1+1,o=g.b2-g.b1+1,r=Math.max(d,a,o),f=0,m=[],u=[],r===d)for(s=l=g.r1,k=g.r2;l<=k;s=l+=1){for(c=0,n=h=g.g1,M=g.g2;h<=M;n=h+=1)for(t=p=g.b1,P=g.b2;p<=P;t=p+=1)c+=e[T(s,n,t)]||0;f+=c,m[s]=f}else if(r===a)for(n=b=g.g1,z=g.g2;b<=z;n=b+=1){for(c=0,s=v=g.r1,I=g.r2;v<=I;s=v+=1)for(t=C=g.b1,_=g.b2;C<=_;t=C+=1)c+=e[T(s,n,t)]||0;f+=c,m[n]=f}else for(t=w=g.b1,j=g.b2;w<=j;t=w+=1){for(c=0,s=y=g.r1,A=g.r2;y<=A;s=y+=1)for(n=x=g.g1,B=g.g2;x<=B;n=x+=1)c+=e[T(s,n,t)]||0;f+=c,m[t]=f}return m.forEach(function(e,t){return u[t]=f-e}),i=function(e){var t,o,i,n,a,r,s,d,c,l,h;for(r=e+"2",s=l=g[a=e+"1"],h=g[r];l<=h;s=l+=1)if(m[s]>f/2){for(t=g.copy(),o=g.copy(),n=(d=s-g[a])<=(c=g[r]-s)?Math.min(g[r]-1,~~(s+c/2)):Math.max(g[a],~~(s-1-d/2));!m[n];)n++;for(i=u[n];!i&&m[n-1];)i=u[--n];return t[r]=n,o[a]=t[r]+1,[t,o]}},r===d?i("r"):r===a?i("g"):r===o?i("b"):void 0}},b.prototype.quantize=function(e,t){var s,o,d,i,n,a,c=this;if(!e.length||t<2||256<t)return console.log("invalid arguments"),!1;for(d=h(e),s=l(e,d),(n=new PriorityQueue(function(e,t){var o,i;return o=e.count(),(i=t.count())<o?1:o<i?-1:0})).push(s),(i=function(e,t){var o,i,n,a,r;for(a=1,r=0;r<c.maxIterations;)if((s=e.pop()).count()){if(o=(n=g(d,s))[0],i=n[1],!o)return void console.log("cbox1 not defined; shouldn't happen");if(e.push(o),i&&(e.push(i),a++),t<=a)return;if(r++>c.maxIterations)return void console.log("infinite loop; perhaps too few pixels")}else e.push(s),r++})(n,this.fractByPopulations*t),a=new PriorityQueue(function(e,t){var o,i;return o=e.count()*e.volume(),(i=t.count()*t.volume())<o?1:o<i?-1:0});n.size();)a.push(n.pop());for(i(a,t-a.size()),o=new r;a.size();)o.push(a.pop());return o},b}.call(this),function(){window.ColorExtract=function(){function p(){}return p.getColorMap=function(e,t,o,i,n,a){var r,s,d,c,l,h,g,u,m,f;for(null==a&&(a=8),d=e.getContext("2d").getImageData(t,o,i,n).data,c=[],h=g=o,m=o+n;g<m;h=g+=1)for(s=h*i*4,l=u=t,f=t+i;u<f;l=u+=1)r=s+4*l,c.push([d[r],d[r+1],d[r+2]]);return(new MMCQ).quantize(c,a)},p.colorDist=function(e,t){var o;return(o=function(e){return e*e})(e[0]-t[0])+o(e[1]-t[1])+o(e[2]-t[2])},p.extract=function(e,t,o){var i,n,a,r,s,d,c,l,h,g,u,m,f;for(t.width=25,t.height=25,t.getContext("2d").drawImage(e,0,0,t.width,t.height),(n=p.getColorMap(t,0,0,t.width,t.height,4).cboxes.map(function(e){return{count:e.cbox.count(),rgb:e.color}})).sort(function(e,t){return t.count-e.count}),i=n[0].rgb,(c=p.getColorMap(t,0,0,e.width,e.height,10).cboxes.map(function(e){return{count:e.cbox.count(),rgb:e.color}})).sort(function(e,t){return t.count-e.count}),g=l=0,m=c.length;g<m;g++)a=c[g],l<(r=p.colorDist(i,a.rgb))&&(l=r,s=a.rgb);for(u=l=0,f=c.length;u<f;u++)a=c[u],l<(r=p.colorDist(i,a.rgb))&&a.rgb!==s&&(l=r,d=a.rgb);return o({bgColor:(h=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"})(i),fgColor:h(s),fgColor2:h(d)})},p}()}.call(this),function(h){var o="placeholder"in document.createElement("input"),g=["-moz-box-sizing","-webkit-box-sizing","box-sizing","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-top-width","border-right-width","border-bottom-width","border-left-width","line-height","font-size","font-family","width","height","top","left","right","bottom"];h.fn.placeholder=function(e){var t=this;return e=e||{},o&&!e.force||window.setTimeout(function(){t.each(function(){var e=this.tagName.toLowerCase();"input"!==e&&"textarea"!==e||function(e,t){var o,i,n,a,r,s,d,c=h(e);try{if(!c[0].getAttributeNode("placeholder"))return;if(!(i=c[0].getAttribute("placeholder"))||!i.length)return;c[0].setAttribute("placeholder",""),c.data("placeholder",i)}catch(e){return}for(n={},o=0;o<g.length;o++)n[g[o]]=c.css(g[o]);function l(){d.toggle(!h.trim(c.val()).length)}a=parseInt(c.css("z-index"),10),!isNaN(a)&&a||(a=1),(d=h("<span>").addClass("placeholder").html(i)).css(n),d.css({cursor:c.css("cursor")||"text",display:"block",position:"absolute",overflow:"hidden","z-index":a+1,background:"none","border-top-style":"solid","border-right-style":"solid","border-bottom-style":"solid","border-left-style":"solid","border-top-color":"transparent","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"transparent"}),d.insertBefore(c),s=c.offset().top-d.offset().top,r=parseInt(d.css("margin-top")),isNaN(r)&&(r=0),d.css("margin-top",r+s),d.on("mousedown",function(){c.is(":enabled")&&window.setTimeout(function(){c.trigger("focus")},0)}),c.on("focus.placeholder",function(){d.hide()}),c.on("blur.placeholder",function(){l()}),c[0].onpropertychange=function(){"value"===event.propertyName&&l()},c.trigger("blur.placeholder")}(this)})},0),this}}(jQuery),function(o){var e=function(e){this.$el=o(e),this.init()};e.prototype={init:function(){o(".form_field").each(o.proxy(function(e,t){0<o(t).find('input[type="text"]').length&&(o(t).find('input[type="text"]').attr("placeholder",o(t).find("label").text()),o(t).find("label").hide(),o.fn.placeholder&&o(t).find('input[type="text"]').placeholder()),0<o(t).find("textarea").length&&(o(t).find("textarea").attr("placeholder",o(t).find("label").text()),o(t).find("label").hide(),o.fn.placeholder&&o(t).find("textarea").placeholder())},this))}},o.fn.edicyFormPlaceholders=function(){return this.each(function(){o(this).data("edicyFormPlaceholders")||o(this).data("edicyFormPlaceholders",new e(this))})}}(jQuery),function(A){var e,t,o,i,n=A("html").hasClass("editmode"),l=function(e,t){for(var o,i=0,n=e.length;i<n;i++){if(e[i].width<t)return o||e[i];o=e[i]}return e[e.length-1]},h=function(){.5<=headerBgCombinedLightness?A(".js-background-type").addClass("light-background").removeClass("dark-background"):A(".js-background-type").addClass("dark-background").removeClass("light-background")},a=function(e,t){return function(o,i){if(o&&i){"string"==typeof o&&(o=o.replace(/rgba?\(/,"").replace(/\)/,"").split(","),A.each(o,function(e,t){o[e]=+t})),"string"==typeof i&&(i=i.replace(/rgba?\(/,"").replace(/\)/,"").split(","),A.each(i,function(e,t){i[e]=+t})),"object"==typeof o&&o.hasOwnProperty("length")&&3==o.length&&o.push(1),"object"==typeof i&&i.hasOwnProperty("length")&&3==i.length&&i.push(1);var e=[0,0,0,0];return e[3]=1-(1-i[3])*(1-o[3]),0===e[3]&&(e[3]=1e-6),e[0]=Math.min(i[0]*i[3]/e[3]+o[0]*o[3]*(1-i[3])/e[3],255),e[1]=Math.min(i[1]*i[3]/e[3]+o[1]*o[3]*(1-i[3])/e[3],255),e[2]=Math.min(i[2]*i[3]/e[3]+o[2]*o[3]*(1-i[3])/e[3],255),A.map(e,function(e){return Math.floor(e)})}}(e||[255,255,255,1],t||[255,255,255,1])},g=function(e,t){var o=a(e,t);return Math.round((.2126*+o[0]+.7152*+o[1]+.0722*+o[2])/2.55)/100},r=function(e){var t,o,i,n,a=e.stickyHeader||!1,r=e.stickyMobileMenu||!1,s=e.stickyFooter||!1,d=e.stickyPostHeaders||!1,c=A(".container"),l=A(".header"),h=A(".footer"),g=A(l).height()+90,u=A(h).height()+90,m=!1,f=function(){var e=A(".post"),o=[];return e.each(function(e,t){o.push(t.getBoundingClientRect().top)}),o},p=function(n){t?(o=A(window).scrollTop(),i=o-t,window.innerWidth<640&&r&&(5<i&&g<t?A(".topbar").addClass("fixed").css({top:-g}):i<-5&&g<t?A(".topbar").addClass("fixed").css({top:0}):i<0&&t<=100&&!0===A(".topbar").hasClass("fixed")&&(A(c).css({"margin-top":0}),A(".topbar").removeClass("fixed"))),640<window.innerWidth&&s&&(A(".post").eq(0).offset().top-A(window).innerHeight()+90<A(document).scrollTop()&&t+window.innerHeight<=A(document).height()-u-40?i<-5?x(!1):5<i&&w():y()),a&&A(l).find(".header-inner").height()<60&&(5<i&&g<t?b():i<-5&&g<t?(v(),setTimeout(function(){A(window).scrollTop()<=g&&C()},20)):i<-5&&t<=g&&C()),t=0):t=A(window).scrollTop(),640<window.innerWidth&&d&&A(".post").each(function(e,t){var o=A(t).find(".post-header"),i=-(A(t).height()-30-o.height());n[e]<30?n[e]>i?(o.removeClass("top bottom"),A(t).addClass("fixed-header")):(o.addClass("bottom").removeClass("top"),A(t).removeClass("fixed-header")):(o.addClass("top").removeClass("bottom"),A(t).removeClass("fixed-header"))})},b=function(){A(l).addClass("header-fixed").css({top:-g}),A(c).css({"padding-top":g})},v=function(){var e;e=A("body").hasClass("edy-checkout-button-visible")?A(".edy-ecommerce-shopping-cart-button").outerHeight():0,A(l).addClass("header-fixed header-animated").css({top:e}),A(c).css({"padding-top":g})},C=function(){A(l).removeClass("header-fixed header-animated"),A(c).css({"padding-top":0}),A(".post.fixed-header").removeClass("fixed-header")},w=function(){A(h).addClass("footer-fixed footer-animated footer-hidden"),A(h).css("bottom",-A(h).outerHeight())},y=function(){A(h).removeClass("footer-fixed footer-animated footer-hidden"),A("body").removeClass("voog-search-visible"),A(h).css({bottom:"",left:""}),A(c).css({"margin-bottom":""})},x=function(e){e=e||!1,A(h).addClass("footer-fixed footer-animated"),A(h).css({left:A(".container").offset().left,bottom:e?0:60-A(h).height()}),A(c).css({"margin-bottom":u})},k=function(e){e?A(h).hasClass("footer-fixed")&&(clearTimeout(n),x(!0),A("footer .gradient-overlay").hide()):A("footer").hasClass("footer-fixed")&&(n=setTimeout(function(){x(!1),A("footer .gradient-overlay").show()},1500))},_=function(){m||requestAnimationFrame(j),m=!0},j=function(){m=!1,640<A(window).width()&&p(f())};A(window).on("load resize",function(){640<A(window).width()?p(f()):(A(".container").css({"padding-top":"","margin-bottom":""}),A(".header-fixed").removeClass("header-fixed header-animated").css("top",""))}).on("scroll",function(){window.scrollY,_()}),A("footer").bind("mouseenter",function(){k(!0)}).bind("mouseleave",function(){k(!1)})},s=function(e,t,o){var i=e.find(".js-content-item-img-drop-area"),n=e.find(".js-toggle-crop-state");o<t?i.removeClass("image-landscape image-square image-portrait").addClass("image-landscape"):t===o?i.removeClass("image-landscape image-square image-portrait").addClass("image-square"):i.removeClass("image-landscape image-square image-portrait").addClass("image-portrait"),i.hasClass("image-square")?n.removeClass("is-visible").addClass("is-hidden"):n.removeClass("is-hidden").addClass("is-visible")},d=function(t,o,e,i,n){var a="article"===n?"articles":"pages",r=new Edicy.CustomData({type:n,id:e});A.ajax({type:"PATCH",contentType:"application/json",url:"/admin/api/"+a+"/"+e,data:JSON.stringify({image_id:i}),dataType:"json",success:function(e){r.set("image_crop_state","not-cropped"),t.removeClass("not-loaded with-error").addClass("is-loaded"),t.find(".edy-img-drop-area-placeholder").css("opacity",1),o.css("opacity",1)},timeout:3e4,error:function(e){t.removeClass("not-loaded is-loaded with-error").addClass("with-error")}})},c=function(){A(document).ready(function(){setTimeout(function(){A(".js-content-item-box").addClass("not-loaded")},3e3)}),A(".js-lazyload").lazyload({threshold:500,effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",load:function(){var e=A(this).closest(".js-content-item-box");e.removeClass("not-loaded with-error").addClass("is-loaded"),setTimeout(function(){e.removeClass("not-loaded with-error"),e.find(".js-loader").remove()},3e3)}})};n=function(){return A("html").hasClass("editmode")};window.site=A.extend(window.site||{},{initFrontPage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1})},initCommonPage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1}),A.fn.autogrow&&A(".form_field_textarea").autogrow(),A(window).ready(function(){A.trim(A(".content-header").get(0).innerHTML)||A(".content-header").hide()})},initBlogPage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!0,stickyPostHeaders:!0}),A(window).ready(function(){A(".post").each(function(e,t){var o=A(t),i=o.find(".post-header").height();o.find(".post-content").css("min-height",i)})})},initArticlePage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1}),A.fn.autogrow&&A(".form_field_textarea").autogrow()},toggleFlags:function(){A(".js-option-toggle-flags").on("click",function(e){if(e.stopPropagation(),A(this).hasClass("js-flag-disable-btn"))var t=!1;else t=!0;A(this).toggleClass("js-flag-disable-btn"),A("body").toggleClass("flags-enabled flags-disabled"),siteData.set("flags_state",t)})},getImageByWidth:l,headerBgPreview:function(e,t){var o=A(".js-header-banner").css("background-image"),i=e.imageSizes?l(e.imageSizes,A(window).width()):null,n=e.image&&""!==e.image?"url("+i.url+")":"none",a=e.imageSizes&&""!==e.imageSizes?e.imageSizes:null,r=e.color&&""!==e.color?e.color:"rgba(0,0,0,0)",s=(e.colorData&&""!==e.colorData&&e.colorData.lightness,A("<img>")),d=A("<canvas>"),c=e.image&&""!==e.image?e.image:null;c?function(e,t){for(var o=e.length;o--;)if(-1<t.indexOf(e[o].url.trim()))return!0;return!1}(a,o)?(headerBg.headerBgImageColor=headerBg.headerBgImageColor?headerBg.headerBgImageColor:"rgba(178,198,207,1)",headerBgCombinedLightness=g(headerBg.headerBgImageColor,r),h()):(s.attr("src",c.replace(/.*\/(photos|voogstock)/g,"/photos")),s.on("load",function(){ColorExtract.extract(s[0],d[0],function(e){headerBg.headerBgImageColor=e.bgColor?e.bgColor:"rgba(255,255,255,1)",headerBgCombinedLightness=g(headerBg.headerBgImageColor,r),h()})})):(headerBg.headerBgImageColor="rgba(255,255,255,1)",headerBgCombinedLightness=g(headerBg.headerBgImageColor,r),h()),A(t).css({"background-image":n}),A(t).find(".background-color").css({"background-color":r})},headerBgCommit:function(e,t){var o=A.extend(!0,{},e);o.image=e.image||"",o.imageSizes=e.imageSizes||"",o.color=e.color||"rgba(255,255,255,0)",o.combinedLightness=headerBgCombinedLightness,pageData.set(t,o)},initItemsPage:function(){n()||c()},handleHeaderColorScheme:function(e){void 0!==e&&(.6<e?A(".header-wrapper").addClass("light").removeClass("dark"):A(".header-wrapper").addClass("dark").removeClass("light"))},bindCustomTexteditorStyles:function(e){window.edy=window.edy||[],edy.push(["texteditorStyles",{name:e,tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])},bindRootItemSettings:function(o){"show_product_related_pages_in_main_menu"in o||(o.show_product_related_pages_in_main_menu=!1),A(".js-root-item-settings-toggle").each(function(e,t){new Edicy.SettingsEditor(t,{menuItems:[{titleI18n:"show_in_main_menu",type:"checkbox",key:"show_product_related_pages_in_main_menu",states:{on:!0,off:!1}}],buttonTitleI18n:"settings",values:o,containerClass:["js-root-item-settings-popover","js-prevent-sideclick"],preview:function(e){1==!e.show_product_related_pages_in_main_menu?A(".js-menu-item-products").addClass("is-hidden"):A(".js-menu-item-products").removeClass("is-hidden")},commit:function(e){siteData.set("settings_root_item",e)}})})},bindContentItemImgDropAreas:function(r){A(".js-content-item-img-drop-area").each(function(e,t){var o=A(t),i=o.closest(".js-content-item-box"),n=i.data("item-id"),a=i.data("item-type");new Edicy.CustomData({type:a,id:n}),new Edicy.ImgDropArea(o,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+r+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(e){var t;o.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),e?(t=e.original_id,i.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),s(i,e.width,e.height)):(t=null,i.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),i.find(".edy-img-drop-area-placeholder").css("opacity",0)),d(i,o,n,t,a)}})})},bindContentItemImageCropToggle:function(){A(".js-toggle-crop-state").on("click",function(){var e,t=A(this).closest(".js-content-item-box"),o=t.find(".js-content-item-img-drop-area"),i=t.data("item-id"),n=t.data("item-type"),a=new Edicy.CustomData({type:n,id:i});o.hasClass("is-cropped")?(o.removeClass("is-cropped").addClass("not-cropped"),e="not-cropped"):(o.removeClass("not-cropped").addClass("is-cropped"),e="is-cropped"),a.set("image_crop_state",e)})},bindSiteSearch:function(e,t,o){e&&new VoogSearch(e,{per_page:10,lang:t,resultsContainer:A(".js-voog-search-modal-inner").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!0,noResults:o})}}),A(".js-menu-toggle").click(function(){A(this).toggleClass("open"),A(".mobile-menu").toggleClass("expanded"),A(this).hasClass("open")?A(".js-search").addClass("hidden"):A(".js-search").removeClass("hidden")}),A("#lang-menu-toggle").click(function(e){e.stopPropagation(),A(this).toggleClass("open"),A("#toggleable-lang-menu").toggleClass("expanded")}),A("body").on("click",function(e){var t=A(e.target);0!==t.closest(".toggleable-lang-menu").length||t.is("#toggleable-lang-menu")||(A("#toggleable-lang-menu").removeClass("expanded"),A("body").removeClass("voog-search-visible")),A("#lang-menu-toggle").removeClass("open")}),A("html").click(function(e){var t=A(e.target);0===t.closest(".mobile-menu").length&&0===t.closest(".toggle-btn").length&&A(".mobile-menu").hasClass("expanded")&&(A(".mobile-menu").removeClass("expanded"),A(".js-menu-toggle").removeClass("open"),A(".js-menu-toggle").hasClass("open")||A(".js-search").removeClass("hidden"))}),A(".js-search-reset").click(function(e){e.preventDefault(),A("body").removeClass("voog-search-visible")}),A(".js-search-open").click(function(e){e.stopPropagation(),A("body").addClass("voog-search-visible"),A(".js-search-input").val("").focus()}),A(".js-search-close").click(function(e){A("body").removeClass("voog-search-visible")}),A(".js-search-input").click(function(e){e.stopPropagation()}),A(".js-voog-search-modal-inner").click(function(e){e.stopPropagation()}),n||A.each(A(".content-formatted table"),function(){A(this).wrap('<div class="table-container"></div>')}),A(document).ready(function(){A(".comment-form").hasClass("form_with_errors")?A("html, body").scrollTop(A(".comment-form").offset().top):0<A("form").find(".form_error, .form_notice").length&&A("html, body").scrollTop(A(".form_error, .form_notice").closest("form").offset().top)}),A(".content form").edicyFormPlaceholders(),!Modernizr.flexbox&&n&&(e=A(".js-header-inner").width(),t=A(".js-header-right"),o=t.width(),i=parseInt(t.css("margin-left"))+1,A(".js-header-left").css("min-width",e-o-i))}(jQuery),function(o){var e=function(e){this.$el=o(e),this.init()};e.prototype={init:function(){o(".form_field").each(o.proxy(function(e,t){0<o(t).find('input[type="text"]').length&&(o(t).find('input[type="text"]').attr("placeholder",o(t).find("label").text()),o(t).find("label").hide(),o.fn.placeholder&&o(t).find('input[type="text"]').placeholder()),0<o(t).find("textarea").length&&(o(t).find("textarea").attr("placeholder",o(t).find("label").text()),o(t).find("label").hide(),o.fn.placeholder&&o(t).find("textarea").placeholder())},this))}},o.fn.edicyFormPlaceholders=function(){return this.each(function(){o(this).data("edicyFormPlaceholders")||o(this).data("edicyFormPlaceholders",new e(this))})}}(jQuery),function(A){var e,t,o,i,n=A("html").hasClass("editmode"),l=function(e,t){for(var o,i=0,n=e.length;i<n;i++){if(e[i].width<t)return o||e[i];o=e[i]}return e[e.length-1]},h=function(){.5<=headerBgCombinedLightness?A(".js-background-type").addClass("light-background").removeClass("dark-background"):A(".js-background-type").addClass("dark-background").removeClass("light-background")},a=function(e,t){return function(o,i){if(o&&i){"string"==typeof o&&(o=o.replace(/rgba?\(/,"").replace(/\)/,"").split(","),A.each(o,function(e,t){o[e]=+t})),"string"==typeof i&&(i=i.replace(/rgba?\(/,"").replace(/\)/,"").split(","),A.each(i,function(e,t){i[e]=+t})),"object"==typeof o&&o.hasOwnProperty("length")&&3==o.length&&o.push(1),"object"==typeof i&&i.hasOwnProperty("length")&&3==i.length&&i.push(1);var e=[0,0,0,0];return e[3]=1-(1-i[3])*(1-o[3]),0===e[3]&&(e[3]=1e-6),e[0]=Math.min(i[0]*i[3]/e[3]+o[0]*o[3]*(1-i[3])/e[3],255),e[1]=Math.min(i[1]*i[3]/e[3]+o[1]*o[3]*(1-i[3])/e[3],255),e[2]=Math.min(i[2]*i[3]/e[3]+o[2]*o[3]*(1-i[3])/e[3],255),A.map(e,function(e){return Math.floor(e)})}}(e||[255,255,255,1],t||[255,255,255,1])},g=function(e,t){var o=a(e,t);return Math.round((.2126*+o[0]+.7152*+o[1]+.0722*+o[2])/2.55)/100},r=function(e){var t,o,i,n,a=e.stickyHeader||!1,r=e.stickyMobileMenu||!1,s=e.stickyFooter||!1,d=e.stickyPostHeaders||!1,c=A(".container"),l=A(".header"),h=A(".footer"),g=A(l).height()+90,u=A(h).height()+90,m=!1,f=function(){var e=A(".post"),o=[];return e.each(function(e,t){o.push(t.getBoundingClientRect().top)}),o},p=function(n){t?(o=A(window).scrollTop(),i=o-t,window.innerWidth<640&&r&&(5<i&&g<t?A(".topbar").addClass("fixed").css({top:-g}):i<-5&&g<t?A(".topbar").addClass("fixed").css({top:0}):i<0&&t<=100&&!0===A(".topbar").hasClass("fixed")&&(A(c).css({"margin-top":0}),A(".topbar").removeClass("fixed"))),640<window.innerWidth&&s&&(A(".post").eq(0).offset().top-A(window).innerHeight()+90<A(document).scrollTop()&&t+window.innerHeight<=A(document).height()-u-40?i<-5?x(!1):5<i&&w():y()),a&&A(l).find(".header-inner").height()<60&&(5<i&&g<t?b():i<-5&&g<t?(v(),setTimeout(function(){A(window).scrollTop()<=g&&C()},20)):i<-5&&t<=g&&C()),t=0):t=A(window).scrollTop(),640<window.innerWidth&&d&&A(".post").each(function(e,t){var o=A(t).find(".post-header"),i=-(A(t).height()-30-o.height());n[e]<30?n[e]>i?(o.removeClass("top bottom"),A(t).addClass("fixed-header")):(o.addClass("bottom").removeClass("top"),A(t).removeClass("fixed-header")):(o.addClass("top").removeClass("bottom"),A(t).removeClass("fixed-header"))})},b=function(){A(l).addClass("header-fixed").css({top:-g}),A(c).css({"padding-top":g})},v=function(){var e;e=A("body").hasClass("edy-checkout-button-visible")?A(".edy-ecommerce-shopping-cart-button").outerHeight():0,A(l).addClass("header-fixed header-animated").css({top:e}),A(c).css({"padding-top":g})},C=function(){A(l).removeClass("header-fixed header-animated"),A(c).css({"padding-top":0}),A(".post.fixed-header").removeClass("fixed-header")},w=function(){A(h).addClass("footer-fixed footer-animated footer-hidden"),A(h).css("bottom",-A(h).outerHeight())},y=function(){A(h).removeClass("footer-fixed footer-animated footer-hidden"),A("body").removeClass("voog-search-visible"),A(h).css({bottom:"",left:""}),A(c).css({"margin-bottom":""})},x=function(e){e=e||!1,A(h).addClass("footer-fixed footer-animated"),A(h).css({left:A(".container").offset().left,bottom:e?0:60-A(h).height()}),A(c).css({"margin-bottom":u})},k=function(e){e?A(h).hasClass("footer-fixed")&&(clearTimeout(n),x(!0),A("footer .gradient-overlay").hide()):A("footer").hasClass("footer-fixed")&&(n=setTimeout(function(){x(!1),A("footer .gradient-overlay").show()},1500))},_=function(){m||requestAnimationFrame(j),m=!0},j=function(){m=!1,640<A(window).width()&&p(f())};A(window).on("load resize",function(){640<A(window).width()?p(f()):(A(".container").css({"padding-top":"","margin-bottom":""}),A(".header-fixed").removeClass("header-fixed header-animated").css("top",""))}).on("scroll",function(){window.scrollY,_()}),A("footer").bind("mouseenter",function(){k(!0)}).bind("mouseleave",function(){k(!1)})},s=function(e,t,o){var i=e.find(".js-content-item-img-drop-area"),n=e.find(".js-toggle-crop-state");o<t?i.removeClass("image-landscape image-square image-portrait").addClass("image-landscape"):t===o?i.removeClass("image-landscape image-square image-portrait").addClass("image-square"):i.removeClass("image-landscape image-square image-portrait").addClass("image-portrait"),i.hasClass("image-square")?n.removeClass("is-visible").addClass("is-hidden"):n.removeClass("is-hidden").addClass("is-visible")},d=function(t,o,e,i,n){var a="article"===n?"articles":"pages",r=new Edicy.CustomData({type:n,id:e});A.ajax({type:"PATCH",contentType:"application/json",url:"/admin/api/"+a+"/"+e,data:JSON.stringify({image_id:i}),dataType:"json",success:function(e){r.set("image_crop_state","not-cropped"),t.removeClass("not-loaded with-error").addClass("is-loaded"),t.find(".edy-img-drop-area-placeholder").css("opacity",1),o.css("opacity",1)},timeout:3e4,error:function(e){t.removeClass("not-loaded is-loaded with-error").addClass("with-error")}})},c=function(){A(document).ready(function(){setTimeout(function(){A(".js-content-item-box").addClass("not-loaded")},3e3)}),A(".js-lazyload").lazyload({threshold:500,effect:"fadeIn",placeholder:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",load:function(){var e=A(this).closest(".js-content-item-box");e.removeClass("not-loaded with-error").addClass("is-loaded"),setTimeout(function(){e.removeClass("not-loaded with-error"),e.find(".js-loader").remove()},3e3)}})};n=function(){return A("html").hasClass("editmode")};window.site=A.extend(window.site||{},{initFrontPage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1})},initCommonPage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1}),A.fn.autogrow&&A(".form_field_textarea").autogrow(),A(window).ready(function(){A.trim(A(".content-header").get(0).innerHTML)||A(".content-header").hide()})},initBlogPage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!0,stickyPostHeaders:!0}),A(window).ready(function(){A(".post").each(function(e,t){var o=A(t),i=o.find(".post-header").height();o.find(".post-content").css("min-height",i)})})},initArticlePage:function(e){(e=void 0!==e&&e)&&r({stickyHeader:!0,stickyMobileMenu:!0,stickyFooter:!1,stickyPostHeaders:!1}),A.fn.autogrow&&A(".form_field_textarea").autogrow()},toggleFlags:function(){A(".js-option-toggle-flags").on("click",function(e){if(e.stopPropagation(),A(this).hasClass("js-flag-disable-btn"))var t=!1;else t=!0;A(this).toggleClass("js-flag-disable-btn"),A("body").toggleClass("flags-enabled flags-disabled"),siteData.set("flags_state",t)})},getImageByWidth:l,headerBgPreview:function(e,t){var o=A(".js-header-banner").css("background-image"),i=e.imageSizes?l(e.imageSizes,A(window).width()):null,n=e.image&&""!==e.image?"url("+i.url+")":"none",a=e.imageSizes&&""!==e.imageSizes?e.imageSizes:null,r=e.color&&""!==e.color?e.color:"rgba(0,0,0,0)",s=(e.colorData&&""!==e.colorData&&e.colorData.lightness,A("<img>")),d=A("<canvas>"),c=e.image&&""!==e.image?e.image:null;c?function(e,t){for(var o=e.length;o--;)if(-1<t.indexOf(e[o].url.trim()))return!0;return!1}(a,o)?(headerBg.headerBgImageColor=headerBg.headerBgImageColor?headerBg.headerBgImageColor:"rgba(178,198,207,1)",headerBgCombinedLightness=g(headerBg.headerBgImageColor,r),h()):(s.attr("src",c.replace(/.*\/(photos|voogstock)/g,"/photos")),s.on("load",function(){ColorExtract.extract(s[0],d[0],function(e){headerBg.headerBgImageColor=e.bgColor?e.bgColor:"rgba(255,255,255,1)",headerBgCombinedLightness=g(headerBg.headerBgImageColor,r),h()})})):(headerBg.headerBgImageColor="rgba(255,255,255,1)",headerBgCombinedLightness=g(headerBg.headerBgImageColor,r),h()),A(t).css({"background-image":n}),A(t).find(".background-color").css({"background-color":r})},headerBgCommit:function(e,t){var o=A.extend(!0,{},e);o.image=e.image||"",o.imageSizes=e.imageSizes||"",o.color=e.color||"rgba(255,255,255,0)",o.combinedLightness=headerBgCombinedLightness,pageData.set(t,o)},initItemsPage:function(){n()||c()},handleHeaderColorScheme:function(e){void 0!==e&&(.6<e?A(".header-wrapper").addClass("light").removeClass("dark"):A(".header-wrapper").addClass("dark").removeClass("light"))},bindCustomTexteditorStyles:function(e){window.edy=window.edy||[],edy.push(["texteditorStyles",{name:e,tagname:"a",attribute:{href:"#"},classname:"custom-btn",toggle:!0}])},bindRootItemSettings:function(o){"show_product_related_pages_in_main_menu"in o||(o.show_product_related_pages_in_main_menu=!1),A(".js-root-item-settings-toggle").each(function(e,t){new Edicy.SettingsEditor(t,{menuItems:[{titleI18n:"show_in_main_menu",type:"checkbox",key:"show_product_related_pages_in_main_menu",states:{on:!0,off:!1}}],buttonTitleI18n:"settings",values:o,containerClass:["js-root-item-settings-popover","js-prevent-sideclick"],preview:function(e){1==!e.show_product_related_pages_in_main_menu?A(".js-menu-item-products").addClass("is-hidden"):A(".js-menu-item-products").removeClass("is-hidden")},commit:function(e){siteData.set("settings_root_item",e)}})})},bindContentItemImgDropAreas:function(r){A(".js-content-item-img-drop-area").each(function(e,t){var o=A(t),i=o.closest(".js-content-item-box"),n=i.data("item-id"),a=i.data("item-type");new Edicy.CustomData({type:a,id:n}),new Edicy.ImgDropArea(o,{positionable:!1,target_width:1280,placeholder:'<div class="edy-img-drop-area-placeholder">'+r+"</div>",removeBtn:'<div class="edy-img-drop-area-remove-image"><div class="edy-img-drop-area-remove-image-ico"><svg width="16" height="20" viewBox="0 0 26 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="currentColor"><g transform="translate(2 5)"><path d="M0 .997h2V21c0 1 1 2 2 2h14c1 0 2-1 2-2V1h2v20c0 2.25-1.75 4-4 4H4c-2.25 0-4-1.75-4-4V.997z"/><rect x="10" y="4" width="2" height="16" rx="1"/><rect x="5" y="4" width="2" height="16" rx="1"/><rect x="15" y="4" width="2" height="16" rx="1"/></g><path d="M26 4v2H0V4h7V2c0-1 1-2 2-2h8c1 0 2 1 2 2v2h7zM9 4h8V3c0-.5-.5-1-1-1h-6c-.5 0-1 .5-1 1v1z"/></g></svg></div></div>',change:function(e){var t;o.removeClass("is-cropped").addClass("not-cropped").css("opacity",.1),e?(t=e.original_id,i.removeClass("without-image is-loaded with-error").addClass("with-image not-loaded"),s(i,e.width,e.height)):(t=null,i.removeClass("with-image is-loaded with-error").addClass("without-image not-loaded"),i.find(".edy-img-drop-area-placeholder").css("opacity",0)),d(i,o,n,t,a)}})})},bindContentItemImageCropToggle:function(){A(".js-toggle-crop-state").on("click",function(){var e,t=A(this).closest(".js-content-item-box"),o=t.find(".js-content-item-img-drop-area"),i=t.data("item-id"),n=t.data("item-type"),a=new Edicy.CustomData({type:n,id:i});o.hasClass("is-cropped")?(o.removeClass("is-cropped").addClass("not-cropped"),e="not-cropped"):(o.removeClass("not-cropped").addClass("is-cropped"),e="is-cropped"),a.set("image_crop_state",e)})},bindSiteSearch:function(e,t,o){e&&new VoogSearch(e,{per_page:10,lang:t,resultsContainer:A(".js-voog-search-modal-inner").get(0),sideclick:!0,mobileModeWidth:640,updateOnKeypress:!0,noResults:o})}}),A(".js-menu-toggle").click(function(){A(this).toggleClass("open"),A(".mobile-menu").toggleClass("expanded"),A(this).hasClass("open")?A(".js-search").addClass("hidden"):A(".js-search").removeClass("hidden")}),A("#lang-menu-toggle").click(function(e){e.stopPropagation(),A(this).toggleClass("open"),A("#toggleable-lang-menu").toggleClass("expanded")}),A("body").on("click",function(e){var t=A(e.target);0!==t.closest(".toggleable-lang-menu").length||t.is("#toggleable-lang-menu")||(A("#toggleable-lang-menu").removeClass("expanded"),A("body").removeClass("voog-search-visible")),A("#lang-menu-toggle").removeClass("open")}),A("html").click(function(e){var t=A(e.target);0===t.closest(".mobile-menu").length&&0===t.closest(".toggle-btn").length&&A(".mobile-menu").hasClass("expanded")&&(A(".mobile-menu").removeClass("expanded"),A(".js-menu-toggle").removeClass("open"),A(".js-menu-toggle").hasClass("open")||A(".js-search").removeClass("hidden"))}),A(".js-search-reset").click(function(e){e.preventDefault(),A("body").removeClass("voog-search-visible")}),A(".js-search-open").click(function(e){e.stopPropagation(),A("body").addClass("voog-search-visible"),A(".js-search-input").val("").focus()}),A(".js-search-close").click(function(e){A("body").removeClass("voog-search-visible")}),A(".js-search-input").click(function(e){e.stopPropagation()}),A(".js-voog-search-modal-inner").click(function(e){e.stopPropagation()}),n||A.each(A(".content-formatted table"),function(){A(this).wrap('<div class="table-container"></div>')}),A(document).ready(function(){A(".comment-form").hasClass("form_with_errors")?A("html, body").scrollTop(A(".comment-form").offset().top):0<A("form").find(".form_error, .form_notice").length&&A("html, body").scrollTop(A(".form_error, .form_notice").closest("form").offset().top)}),A(".content form").edicyFormPlaceholders(),!Modernizr.flexbox&&n&&(e=A(".js-header-inner").width(),t=A(".js-header-right"),o=t.width(),i=parseInt(t.css("margin-left"))+1,A(".js-header-left").css("min-width",e-o-i))}(jQuery),function(){for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var o=(new Date).getTime(),i=Math.max(0,16-(o-a)),n=window.setTimeout(function(){e(o+i)},i);return a=o+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();